(function ($) {
    $.fn.scroller = function () {
        this.each(function () {
            var $scroller = $(this);
            if (!window.matchMedia("(prefers-reduced-motion: reduce)").matches) {
                addAnimation($scroller);
            }
        });

        function addAnimation($scroller) {
            $scroller.attr("data-animated", true);
            var $scrollerInner = $scroller.find(".scroller__inner");
            var $scrollerContent = $scrollerInner.children();
            $scrollerContent.each(function () {
                var $item = $(this);
                var $duplicatedItem = $item.clone().attr("aria-hidden", true);
                $scrollerInner.append($duplicatedItem);
            });
        }

        return this;
    };
})(jQuery);